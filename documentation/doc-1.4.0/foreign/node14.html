<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>7.7 Term access and construction</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node13.html#section.cif.conv">&lt;&lt; Prev</A></TD><TD><A href="node7.html">- Up -</A></TD><TD><A href="node15.html#section.cif.excp">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="section.term_access"><H2><A name="section.term_access">7.7 Term access and construction</A></H2><P>Several functions are available to access and construct terms. </P><DL><DT><CODE>OZ_label</CODE> <A name="label170"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_label</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">term</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns the label of <CODE>term</CODE>. </P></DD><DT><CODE>OZ_width</CODE> <A name="label172"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_width</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">term</SPAN>)</CODE> </P></BLOCKQUOTE></DD><DD><P>Returns the width of <CODE>term</CODE>. </P></DD><DT><CODE>OZ_tuple</CODE> <A name="label174"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_tuple</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">label</SPAN>,&nbsp;<SPAN class="type">int</SPAN>&nbsp;<SPAN class="variablename">width</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns a new tuple with label <CODE>label</CODE> and width <CODE>width</CODE>. Note that the values of all subtrees are still undefined. Hence a call to this function should be immediately followed by calls to <CODE>OZ_putArg</CODE>. </P></DD><DT><CODE>OZ_putArg</CODE> <A name="label176"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_putArg</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">tuple</SPAN>,<SPAN class="type">int</SPAN>&nbsp;<SPAN class="variablename">pos</SPAN>,<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">arg</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Destructively sets the subtree of tuple <CODE>tuple</CODE> at <CODE>pos</CODE> to <CODE>arg</CODE>. The tuple arguments are numbered starting from 0. Should be only used for tuples created with <CODE>OZ_tuple</CODE>. </P></DD><DT><CODE>OZ_mkTuple</CODE> <A name="label178"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_mkTuple</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">label</SPAN>,&nbsp;<SPAN class="type">int</SPAN>&nbsp;<SPAN class="variablename">width</SPAN>,&nbsp;...)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns a new tuple with label <CODE>label</CODE> and width <CODE>width</CODE>. All subtrees from 1 to <CODE>width</CODE> must be given as arguments after <CODE>width</CODE>. Example: </P><BLOCKQUOTE class="code"><CODE>OZ_mkTuple(OZ_atom(<SPAN class="string">&quot;f&quot;</SPAN>),2,OZ_atom(<SPAN class="string">&quot;a&quot;</SPAN>),OZ_int(1))</CODE></BLOCKQUOTE><P> creates the tuple <CODE>f(a&nbsp;1)</CODE>. </P></DD><DT><CODE>OZ_mkTupleC</CODE> <A name="label180"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_mkTupleC</SPAN>(<SPAN class="type">char</SPAN>&nbsp;*<SPAN class="variablename">label</SPAN>,&nbsp;<SPAN class="type">int</SPAN>&nbsp;<SPAN class="variablename">width</SPAN>,&nbsp;...)</CODE></P></BLOCKQUOTE></DD><DD><P>Analogously to <CODE>OZ_mkTuple</CODE>, but expects the label as a C string. </P></DD><DT><CODE>OZ_getArg</CODE> <A name="label182"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_getArg</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">tuple</SPAN>,&nbsp;<SPAN class="type">int</SPAN>&nbsp;<SPAN class="variablename">pos</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns the subtree of tuple <CODE>tuple</CODE> at <CODE>pos</CODE>. The tuple arguments are numbered starting from 0. </P></DD><DT><CODE>OZ_nil</CODE> <A name="label184"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_nil</SPAN>()</CODE> </P></BLOCKQUOTE></DD><DD><P>Returns the atom <CODE>nil</CODE>. </P></DD><DT><CODE>OZ_cons</CODE> <A name="label186"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_cons</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">head</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">tail</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns a binary tuple with label <CODE><SPAN class="string">'|'</SPAN></CODE>, where the first field is <CODE>head</CODE>, the second is <CODE>tail</CODE>. </P></DD><DT><CODE>OZ_head</CODE> <A name="label188"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_head</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns the first field of <CODE>t</CODE>. <CODE>t</CODE> must be a tuple with label <CODE><SPAN class="string">'|'</SPAN></CODE> and width 2. </P></DD><DT><CODE>OZ_tail</CODE> <A name="label190"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_tail</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns the second field of <CODE>t</CODE>. <CODE>t</CODE> must be a tuple with label <CODE><SPAN class="string">'|'</SPAN></CODE> and width 2. </P></DD><DT><CODE>OZ_length</CODE> <A name="label192"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_length</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Compute the length of the Oz list <CODE>t</CODE>. This function returns <CODE>-1</CODE>, if <CODE>t</CODE> is not determined and <CODE>-2</CODE>, if <CODE>t</CODE> is not a list. </P></DD><DT><CODE>OZ_toList</CODE> <A name="label194"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_toList</SPAN>(<SPAN class="type">int</SPAN>&nbsp;<SPAN class="variablename">n</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;*<SPAN class="variablename">t</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Creates an Oz list out of an array <CODE>t</CODE> of <CODE>n</CODE> values. </P></DD><DT><CODE>OZ_pair</CODE> <A name="label196"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_pair</SPAN>(<SPAN class="type">int</SPAN>&nbsp;<SPAN class="variablename">n</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns a mixfix pair, with <CODE>n</CODE> subtrees. The subtrees are not initialized and must be defined with <CODE>OZ_putArg</CODE>. </P></DD><DT><CODE>OZ_pair2</CODE> <A name="label198"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_pair2</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">left</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">right</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns a mixfix pair, where the first field is <CODE>left</CODE> and the second is <CODE>right</CODE>. </P></DD><DT><CODE>OZ_pairA</CODE> <A name="label200"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_pairA</SPAN>(<SPAN class="type">char</SPAN>&nbsp;*<SPAN class="variablename">left</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">right</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Macro for creating a mixfix pair of an atom and a value. It is defined as: </P><BLOCKQUOTE class="code"><CODE>OZ_pair2(OZ_atom(left),right)</CODE></BLOCKQUOTE><P> </P></DD><DT><CODE>OZ_pairAA</CODE> <A name="label202"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_pairAA</SPAN>(<SPAN class="type">char</SPAN>&nbsp;*<SPAN class="variablename">left</SPAN>,&nbsp;<SPAN class="type">char</SPAN>&nbsp;*<SPAN class="variablename">right</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Macro for creating a mixfix pair of two atoms. It is defined as: </P><BLOCKQUOTE class="code"><CODE>OZ_pair2(OZ_atom(left),OZ_atom(right))</CODE></BLOCKQUOTE><P> </P></DD><DT><CODE>OZ_pairAI</CODE> <A name="label204"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_pairAI</SPAN>(<SPAN class="type">char</SPAN>&nbsp;*<SPAN class="variablename">left</SPAN>,&nbsp;<SPAN class="type">int</SPAN>&nbsp;<SPAN class="variablename">right</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Macro for creating a mixfix pair of an atom and an integer. It is defined as: </P><BLOCKQUOTE class="code"><CODE>OZ_pair2(OZ_atom(left),OZ_int(right))</CODE></BLOCKQUOTE><P> </P></DD><DT><CODE>OZ_pairAS</CODE> <A name="label206"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_pairAS</SPAN>(<SPAN class="type">char</SPAN>&nbsp;*<SPAN class="variablename">left</SPAN>,&nbsp;<SPAN class="type">char</SPAN>&nbsp;*<SPAN class="variablename">right</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Macro for creating a mixfix pair of an atom and a string. It is defined as: </P><BLOCKQUOTE class="code"><CODE>OZ_pair2(OZ_atom(left),OZ_string(right))</CODE></BLOCKQUOTE><P> </P></DD><DT><CODE>OZ_subtree</CODE> <A name="label208"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_subtree</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">record</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">feature</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns the subtree of record <CODE>record</CODE> at <CODE>feature</CODE>.} </P></DD><DT><CODE>OZ_record</CODE> <A name="label210"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_record</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">label</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">arity</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Creates a new record with label <CODE>label</CODE> and list of features <CODE>arity</CODE>. Note that the values of all subtrees are still undefined. Hence a call to this function should be immediately followed by calls to <CODE>OZ_putSubtree</CODE>. </P></DD><DT><CODE>OZ_recordInit</CODE> <A name="label212"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_recordInit</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">lbl</SPAN>,<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">propList</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Creates a new record with label <CODE>lbl</CODE>. The property list <CODE>propList</CODE> contains all features and their subtree as mixfixed pairs. </P></DD><DT><CODE>OZ_putSubtree</CODE> <A name="label214"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">void</SPAN>&nbsp;<SPAN class="functionname">OZ_putSubtree</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">record</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">feature</SPAN>,<BR>&nbsp;&nbsp;&nbsp;&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">newTerm</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Destructively sets the subtree of record <CODE>record</CODE> at <CODE>feature</CODE> to <CODE>newTerm</CODE>. Should be only used for records created with <CODE>OZ_record</CODE> or <CODE>OZ_recordInit</CODE>. </P></DD><DT><CODE>OZ_arityList</CODE> <A name="label216"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_arityList</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">record</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns the arity of record <CODE>record</CODE> as an Oz list. </P></DD><DT><CODE>OZ_adjoinAt</CODE> <A name="label218"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_adjoinAt</SPAN></CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<CODE>&nbsp;<BR>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">rec</SPAN>,<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">fea</SPAN>,<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">val</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns a new record by adjoining subtree <CODE>val</CODE> at feature <CODE>fea</CODE> to record <CODE>rec</CODE>. </P></DD><DT><CODE>OZ_newVariable</CODE> <A name="label220"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_newVariable</SPAN>()</CODE></P></BLOCKQUOTE></DD><DD><P>Creates a new variable. </P></DD><DT><CODE>OZ_newName</CODE> <A name="label222"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_newName</SPAN>()</CODE></P></BLOCKQUOTE></DD><DD><P>Creates a new name.} </P></DD><DT><CODE>OZ_newChunk</CODE> <A name="label224"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_newChunk</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">record</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Creates a new chunk. </P></DD><DT><CODE>OZ_newCell</CODE> <A name="label226"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_newCell</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Creates a new cell with initial content <CODE>t</CODE>. </P></DD><DT><CODE>OZ_newPort</CODE> <A name="label228"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_newPort</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">s</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Creates a new port with stream <CODE>s</CODE>. </P></DD><DT><CODE>OZ_send</CODE> <A name="label230"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">void</SPAN>&nbsp;<SPAN class="functionname">OZ_send</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">p</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Sends value <CODE>t</CODE> to port <CODE>p</CODE>. </P></DD><DT><CODE>OZ_onToplevel</CODE> <A name="label232"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_onToplevel</SPAN>()</CODE></P></BLOCKQUOTE></DD><DD><P>Returns nonzero iff called on toplevel, i.&nbsp;e. not within a local space.</P></DD></DL><P></P></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node13.html#section.cif.conv">&lt;&lt; Prev</A></TD><TD><A href="node7.html">- Up -</A></TD><TD><A href="node15.html#section.cif.excp">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS><A href="http://www.ps.uni-sb.de/~mehl/">Michael&nbsp;Mehl</A>, <A href="http://www.ps.uni-sb.de/~tmueller/">Tobias&nbsp;Müller</A>, <A href="http://www.ps.uni-sb.de/~schulte/">Christian&nbsp;Schulte</A> and&nbsp;<A href="http://www.ps.uni-sb.de/~scheidhr/">Ralf&nbsp;Scheidhauer</A><BR><SPAN class="version">Version 1.4.0 (20080702)</SPAN></ADDRESS></BODY></HTML>
